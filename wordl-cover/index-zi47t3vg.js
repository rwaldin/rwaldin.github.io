(()=>{var _=/iPad|iPhone/.test(navigator.userAgent),y="hardwareConcurrency"in navigator?navigator.hardwareConcurrency:_?2:8,$=Array.from({length:y},e=>new Worker("./worker-cq7podyn.js")),R=new Intl.NumberFormat,d=e=>R.format(e),j=e=>`${d(e)} seconds`,I=/\r?\n/,{solutionsElem:l,solveForm:B,outputForm:H}=window,{customWordFile:p,solveButton:c,concurrency:L,wordList:a}=B,{wordCount:N,fiveLetterWordCount:q,normalizedWordCount:G,solutionCount:S,elapsedTime:z,workItems:A,workersWorking:F}=H,U=[...a].find(({value:e})=>e==="custom"),J=[...a].find(({value:e})=>/wordl/.test(e)),K=[...a].find(({value:e})=>/words_alpha/.test(e));for(let e=0;e<y;++e)L.appendChild(document.createElement("option")).append(e+1);L.value=y;p.addEventListener("change",e=>a.value="custom");U.addEventListener("change",e=>{a.value==="custom"&&!p.value&&p.click()});var Q=e=>{if(Array.isArray(e)){let[s,m]=e.map(o=>o.split(I).map(f=>f.trim().toLowerCase())),u=new Set(s);return m.filter(o=>u.has(o))}else return e.split(I).map(s=>s.trim().toLowerCase())},E=e=>{let s=Date.now();l.innerHTML="",c.innerText="Solving...",S.innerText=0;let m=Q(e);N.innerText=d(m.length);let u=m.filter(n=>/^[a-z]{5}$/.test(n));q.innerText=d(u.length);let o=new Map;for(let n of u){let t=[...new Set(n)].sort().join("");if(t.length===5){let r=o.get(t);o.set(t,r?`${r}/${n}`:n)}}G.innerText=d(o.size);let f=[...o.keys()],W=Object.fromEntries(f.map(n=>[n,n.split("")])),D="a".charCodeAt(0),w=Array.from({length:26},(n,t)=>String.fromCharCode(D+t)),b=new Set(Object.values(W).flat());if(b.size!==w.length){let n=w.filter(t=>!b.has(t));l.appendChild(document.createElement("li")).append(`Invalid word list. Missing letters: ${n.join(", ")}`);return}let v=new Set,g=[],i=w.map(n=>Object.fromEntries(Object.entries(W).filter(([t])=>!t.includes(n)))).sort((n,t)=>Object.keys(t).length-Object.keys(n).length),M=n=>{let t=n.sort().join(",");v.has(t)||(v.add(t),g.push(t.split(",").map(r=>o.get(r)).sort().join(", ")))},h=0,k=0,O=setInterval(requestAnimationFrame,60,n=>{for(let t=l.children.length;t<g.length;++t)l.appendChild(document.createElement("li")).append(g[t]);l.scrollTop=l.scrollHeight,S.innerText=d(v.size),A.value=i.length-k,z.innerText=j((Date.now()-s)/1e3)});return new Promise(n=>{for(let[t,r]of $.entries()){if(t>=L.value)break;let T=x=>{switch(x.data.type){case"solution":{M(x.data.solution);break}case"completed":{++k,h<i.length?r.postMessage({type:"solve",options:i[h++]}):(F.value-=1,r.removeEventListener("message",T),k===i.length&&(c.disabled=!1,c.innerText="Solve",z.innerText=j((Date.now()-s)/1e3),A.value=0,clearInterval(O),n()));break}}};h<i.length&&(F.value=t+1,r.addEventListener("message",T),r.postMessage({type:"solve",options:i[h++]}))}})},C=e=>fetch(e).then(s=>s.text()),P=new FileReader;P.addEventListener("load",async e=>await E(e.target.result));c.addEventListener("click",async e=>{switch(e.preventDefault(),c.disabled=!0,c.innerText="Loading...",a.value){case"custom":{P.readAsText(p.files[0]);break}case"intersection":{await E(await Promise.all([C(J.value),C(K.value)]));break}default:{await E(await C(a.value));break}}});if(location.hostname==="waldin.net"){let e=new URLSearchParams({nc:Date.now(),code:"840xigs5jBlPzxN77diWdugPDGjroC6y",url:location.href,t:document.title,ref:document.referrer,w:screen.width,h:screen.height});fetch(`https://api.pirsch.io/hit?${e}`)}})();
//# sourceMappingURL=index-zi47t3vg.js.map
