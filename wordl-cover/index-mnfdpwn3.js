(()=>{var D=/iPad|iPhone/.test(navigator.userAgent),T="hardwareConcurrency"in navigator?navigator.hardwareConcurrency:D?2:8,M=Array.from({length:T},n=>new Worker("./worker-3go7lkoy.js")),H=new Intl.NumberFormat,c=n=>H.format(n),E=async n=>fetch(n).then(s=>s.text()),{customWordFileElem:L,customWordListElem:$,elapsedTimeElem:C,fiveLetterWordCountElem:P,normalizedWordCountElem:_,workersWorkingElem:k,workItemsElem:q,solutionCountElem:j,solutionsElem:h,wordCountElem:B,solveFormElem:m,solveButtonElem:d,wordlListElem:N,wordsAlphaListElem:R}=window;for(let n=0;n<T;++n){let s=document.createElement("option");s.append(n+1),m.concurrency.append(s)}m.concurrency.value=T;L.addEventListener("change",n=>m.wordlist.value="custom");$.addEventListener("change",n=>{m.wordlist.value==="custom"&&!L.value&&L.click()});var y=n=>{let s=Date.now();d.innerText="Solving...",h.innerHTML="",j.innerText="0";let u=n.split(/\r?\n/).map(e=>e.trim().toLowerCase());B.innerText=c(u.length);let p=u.filter(e=>/^[a-z]{5}$/.test(e));P.innerText=c(p.length);let i=new Map;for(let e of p){let t=[...e].sort().join("");if(!t.match(/(.)\1/)){let o=i.get(t);o?i.set(t,[o,e].join("/")):i.set(t,e)}}_.innerText=c(i.size);let w=[...i.keys()].reduce((e,t)=>(e[t]=t.split("").map(o=>`letter${o}`),e),{}),v=new Set,W=[],S="a".charCodeAt(0),z="z".charCodeAt(0),r=[];for(let e=S;e<=z;++e){let t=String.fromCharCode(e),o=Object.fromEntries(Object.entries(w).filter(([l])=>!l.includes(t)));r.push({options:o,givenOptions:[]})}r.sort((e,t)=>Object.keys(t.options).length-Object.keys(e.options).length);let F=e=>{let t=e.sort().join(",");v.has(t)||(v.add(t),j.innerText=c(v.size),W.push(t.split(",").map(o=>i.get(o)).sort().join(", ")))},A=setInterval(e=>requestAnimationFrame(t=>{for(let l of W.slice(h.children.length)){let a=document.createElement("li");a.innerText=l,h.append(a)}let o=c((Date.now()-s)/1e3);C.innerText=`${o} seconds`,h.scrollTop=h.scrollHeight}),60),f=0,g=0,I=m.concurrency.value;return new Promise((e,t)=>{for(let[o,l]of M.entries()){if(o>=I)break;k.value=o+1;let a=x=>{switch(x.data.type){case"solution":{F(x.data.solution);break}case"completed":{if(++g<r.length)f<r.length?l.postMessage({type:"solve",...r[f++]}):(k.value-=1,l.removeEventListener("message",a));else if(g===r.length){let O=(Date.now()-s)/1e3;l.removeEventListener("message",a),k.value-=1,C.innerText=`${c(O)} seconds`,d.disabled=!1,d.innerHTML="Solve",clearInterval(A),e()}q.value=r.length-g;break}}};f<r.length&&(l.addEventListener("message",a),l.postMessage({type:"solve",...r[f++]}))}})};d.addEventListener("click",async n=>{n.preventDefault(),d.disabled=!0,d.innerText="Loading...";let s=Object.fromEntries([...new FormData(m)]);if(s.wordlist==="custom"){var u=new FileReader;u.onload=p=>y(event.target.result),u.readAsText(s.customWordFile)}else s.wordlist==="intersection"?E(N.value).then(p=>{let i=p.split(/\r?\n/);E(R.value).then(b=>{let w=new Set(b.split(/\r?\n/));y(i.filter(v=>w.has(v)).join(`
`))})}):E(s.wordlist).then(y)});})();
//# sourceMappingURL=index-mnfdpwn3.js.map
