(()=>{var M=/iPad|iPhone/.test(navigator.userAgent),C="hardwareConcurrency"in navigator?navigator.hardwareConcurrency:M?2:8,O=new Intl.NumberFormat,d=e=>O.format(e),j=/\r?\n/,{solutionsElem:i,solveFormElem:_,outputFormElem:R}=window,B=Array.from({length:C},e=>{let o=new Worker("./worker-mfek6yn7.js");return o.addEventListener("error",a=>i.appendChild(document.createElement("li")).append(a.toString())),o}),{customWordFile:h,solveButton:m,concurrency:y,wordList:l}=_,{wordCount:H,fiveLetterWordCount:N,normalizedWordCount:q,solutionCount:S,elapsedTime:z,workItems:A,workersWorking:I}=R,G=[...l].find(({value:e})=>e==="custom"),U=[...l].find(({value:e})=>e.match(/wordl/)),J=[...l].find(({value:e})=>e.match(/words_alpha/));for(let e=0;e<C;++e){let o=document.createElement("option");o.append(e+1),y.append(o)}y.value=C;h.addEventListener("change",e=>l.value="custom");G.addEventListener("change",e=>{l.value==="custom"&&!h.value&&h.click()});var K=e=>{if(Array.isArray(e)){let[o,a]=e.map(r=>r.split(j).map(w=>w.trim().toLowerCase())),u=new Set(o);return a.filter(r=>u.has(r))}else return e.split(j).map(o=>o.trim().toLowerCase())},k=e=>{let o=Date.now();i.innerHTML="",m.innerText="Solving...",S.innerText=0;let a=K(e);H.innerText=d(a.length);let u=a.filter(n=>/^[a-z]{5}$/.test(n));N.innerText=d(u.length);let r=new Map;for(let n of u){let t=[...new Set(n)].sort().join("");if(t.length===5){let s=r.get(t);r.set(t,s?`${s}/${n}`:n)}}q.innerText=d(r.size);let w=[...r.keys()],L=Object.fromEntries(w.map(n=>[n,n.split("")])),P="a".charCodeAt(0),W=Array.from({length:26},(n,t)=>String.fromCharCode(P+t)),b=new Set(Object.values(L).flat());if(b.size!==26){let n=W.filter(t=>!b.includes(t));i.appendChild(document.createElement("li")).append(`Invalid word list. Missing letters: ${n.join(", ")}`);return}let f=new Set,v=[],c=W.map(n=>Object.fromEntries(Object.entries(L).filter(([t])=>!t.includes(n)))).sort((n,t)=>Object.keys(t).length-Object.keys(n).length),$=n=>{let t=n.sort().join(",");f.has(t)||(f.add(t),v.push(t.split(",").map(s=>r.get(s)).sort().join(", ")))},p=0,g=0,D=setInterval(requestAnimationFrame,60,n=>{for(let t=i.children.length;t<v.length;++t)i.appendChild(document.createElement("li")).append(v[t]);i.scrollTop=i.scrollHeight,S.innerText=d(f.size),A.value=c.length-g,z.innerText=`${d((Date.now()-o)/1e3)} seconds`});return new Promise(n=>{for(let[t,s]of B.entries()){if(t>=y.value)break;let T=x=>{switch(x.data.type){case"solution":{$(x.data.solution);break}case"completed":{++g,p<c.length?s.postMessage({type:"solve",options:c[p++]}):(I.value-=1,s.removeEventListener("message",T),g===c.length&&(m.disabled=!1,m.innerText="Solve",z.innerText=`${d((Date.now()-o)/1e3)} seconds`,A.value=0,clearInterval(D),n()));break}}};p<c.length&&(I.value=t+1,s.addEventListener("message",T),s.postMessage({type:"solve",options:c[p++]}))}})},E=e=>fetch(e).then(o=>o.text()),F=new FileReader;F.addEventListener("load",async e=>await k(e.target.result));m.addEventListener("click",async e=>{switch(e.preventDefault(),m.disabled=!0,m.innerText="Loading...",l.value){case"custom":{F.readAsText(h.files[0]);break}case"intersection":{let[o,a]=await Promise.all([E(U.value),E(J.value)]);await k([o,a]);break}default:{await k(await E(l.value));break}}});if(location.hostname==="waldin.net"){let e=new URLSearchParams({nc:Date.now(),code:"840xigs5jBlPzxN77diWdugPDGjroC6y",url:location.href,t:document.title,ref:document.referrer,w:screen.width,h:screen.height});fetch(`https://api.pirsch.io/hit?${e}`)}})();
//# sourceMappingURL=index-s56f6xn3.js.map
