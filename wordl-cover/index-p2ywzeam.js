(()=>{var $=/iPad|iPhone/.test(navigator.userAgent),b="hardwareConcurrency"in navigator?navigator.hardwareConcurrency:$?2:8,P=new Intl.NumberFormat,m=e=>P.format(e),k=/\r?\n/,{solutionsElem:i,solveFormElem:D,outputFormElem:R}=window,H=Array.from({length:b},e=>{let o=new Worker("./worker-mfek6yn7.js");return o.addEventListener("error",c=>i.appendChild(document.createElement("li")).append(c.toString())),o}),{customWordFile:v,solveButton:u,concurrency:L,wordList:l}=D,{wordCount:B,fiveLetterWordCount:q,normalizedWordCount:N,solutionCount:S,elapsedTime:I,workItems:z,workersWorking:F}=R,G=[...l].find(({value:e})=>e==="custom"),J=[...l].find(({value:e})=>e.match(/wordl/)),K=[...l].find(({value:e})=>e.match(/words_alpha/));for(let e=0;e<b;++e){let o=document.createElement("option");o.append(e+1),L.append(o)}L.value=b;v.addEventListener("change",e=>l.value="custom");G.addEventListener("change",e=>{l.value==="custom"&&!v.value&&v.click()});var C=e=>{let o=Date.now();i.innerHTML="",u.innerText="Solving...",S.innerText=0;let c=e.split(k).map(t=>t.trim().toLowerCase());B.innerText=m(c.length);let p=c.filter(t=>/^[a-z]{5}$/.test(t));q.innerText=m(p.length);let s=new Map;for(let t of p){let n=[...new Set(t)].sort().join("");if(n.length===5){let r=s.get(n);s.set(n,r?`${r}/${t}`:t)}}N.innerText=m(s.size);let a=[...s.keys()],y=Object.fromEntries(a.map(t=>[t,t.split("")])),M="a".charCodeAt(0),W=Array.from({length:26},(t,n)=>String.fromCharCode(M+n)),T=new Set(Object.values(y).flat());if(T.size!==26){let t=W.filter(n=>!T.includes(n));i.appendChild(document.createElement("li")).append(`Invalid word list. Missing letters: ${t.join(", ")}`);return}let h=new Set,f=[],d=W.map(t=>Object.fromEntries(Object.entries(y).filter(([n])=>!n.includes(t)))).sort((t,n)=>Object.keys(n).length-Object.keys(t).length),O=t=>{let n=t.sort().join(",");h.has(n)||(h.add(n),f.push(n.split(",").map(r=>s.get(r)).sort().join(", ")))},w=0,g=0,_=setInterval(requestAnimationFrame,60,t=>{for(let n=i.children.length;n<f.length;++n)i.appendChild(document.createElement("li")).append(f[n]);i.scrollTop=i.scrollHeight,S.innerText=m(h.size),z.value=d.length-g,I.innerText=`${m((Date.now()-o)/1e3)} seconds`});return new Promise(t=>{for(let[n,r]of H.entries()){if(n>=L.value)break;let x=j=>{switch(j.data.type){case"solution":{O(j.data.solution);break}case"completed":{++g,w<d.length?r.postMessage({type:"solve",options:d[w++]}):(F.value-=1,r.removeEventListener("message",x),g===d.length&&(u.disabled=!1,u.innerText="Solve",I.innerText=`${m((Date.now()-o)/1e3)} seconds`,z.value=0,clearInterval(_),t()));break}}};w<d.length&&(F.value=n+1,r.addEventListener("message",x),r.postMessage({type:"solve",options:d[w++]}))}})},E=e=>fetch(e).then(o=>o.text()),A=new FileReader;A.addEventListener("load",async e=>await C(e.target.result));u.addEventListener("click",async e=>{switch(e.preventDefault(),u.disabled=!0,u.innerText="Loading...",l.value){case"custom":{A.readAsText(v.files[0]);break}case"intersection":{let o=E(J.value),c=E(K.value),p=await o.then(a=>new Set(a.split(k))),s=await c.then(a=>a.split(k));await C(s.filter(a=>p.has(a)).join(`
`));break}default:{await C(await E(l.value));break}}});})();
//# sourceMappingURL=index-p2ywzeam.js.map
