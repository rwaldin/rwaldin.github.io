(()=>{var H=/iPad|iPhone/.test(navigator.userAgent),y="hardwareConcurrency"in navigator?navigator.hardwareConcurrency:H?2:8,P=Array.from({length:y},n=>new Worker("./worker-rfxwp2ik.js")),R=new Intl.NumberFormat,c=n=>R.format(n),k=/\r?\n/,{solutionsElem:d,solveFormElem:I,outputFormElem:B}=window,{customWordFile:C,solveButton:m,concurrency:W,wordList:u}=I,{wordCount:q,fiveLetterWordCount:N,normalizedWordCount:G,solutionCount:F,elapsedTime:S,workItems:J,workersWorking:g}=B,K=[...u].find(({value:n})=>n==="custom"),Q=[...u].find(({value:n})=>n.match(/wordl/)),U=[...u].find(({value:n})=>n.match(/words_alpha/));for(let n=0;n<y;++n){let s=document.createElement("option");s.append(n+1),W.append(s)}W.value=y;C.addEventListener("change",n=>u.value="custom");K.addEventListener("change",n=>{u.value==="custom"&&!C.value&&C.click()});var E=n=>{let s=Date.now();m.innerText="Solving...",d.innerHTML="",F.innerText=0;let a=n.split(k).map(e=>e.trim().toLowerCase());q.innerText=c(a.length);let i=a.filter(e=>/^[a-z]{5}$/.test(e));N.innerText=c(i.length);let o=new Map;for(let e of i){let t=[...new Set(e)].sort().join("");if(t.length===5){let r=o.get(t);o.set(t,r?`${r}/${e}`:e)}}G.innerText=c(o.size);let z=[...o.keys()],b=Object.fromEntries(z.map(e=>[e,e.split("")])),A="a".charCodeAt(0),T=Array.from({length:26},(e,t)=>String.fromCharCode(A+t)),j=new Set(Object.values(b).flat());if(j.size!==26){let e=T.filter(t=>!j.includes(t));d.appendChild(document.createElement("li")).append(`Invalid word list. Missing letters: ${e.join(", ")}`);return}let p=new Set,v=[],l=T.map(e=>Object.fromEntries(Object.entries(b).filter(([t])=>!t.includes(e)))).sort((e,t)=>Object.keys(t).length-Object.keys(e).length),O=e=>{let t=e.sort().join(",");p.has(t)||(p.add(t),F.innerText=c(p.size),v.push(t.split(",").map(r=>o.get(r)).sort().join(", ")))},D=e=>{for(let t=d.children.length;t<v.length;++t)d.appendChild(document.createElement("li")).append(v[t]);S.innerText=`${c((Date.now()-s)/1e3)} seconds`,d.scrollTop=d.scrollHeight},M=setInterval(e=>requestAnimationFrame(D),60),w=0,f=0,$=W.value;return new Promise(e=>{for(let[t,r]of P.entries()){if(t>=$)break;g.value=t+1;let h=x=>{switch(x.data.type){case"solution":{O(x.data.solution);break}case"completed":{if(++f<l.length)w<l.length?r.postMessage({type:"solve",options:l[w++]}):(g.value-=1,r.removeEventListener("message",h));else if(f===l.length){let _=(Date.now()-s)/1e3;r.removeEventListener("message",h),g.value-=1,S.innerText=`${c(_)} seconds`,m.disabled=!1,m.innerText="Solve",clearInterval(M),e()}J.value=l.length-f;break}}};w<l.length&&(r.addEventListener("message",h),r.postMessage({type:"solve",options:l[w++]}))}})},L=n=>fetch(n).then(s=>s.text());m.addEventListener("click",async n=>{n.preventDefault(),m.disabled=!0,m.innerText="Loading...";let s=Object.fromEntries(new FormData(I));if(s.wordList==="custom"){let a=new FileReader,i=async o=>{a.removeEventListener("load",i),await E(o.target.result)};a.addEventListener("load",i),a.readAsText(s.customWordFile)}else if(s.wordList==="intersection"){let a=await L(Q.value).then(o=>o.split(k)),i=await L(U.value).then(o=>new Set(o.split(k)));await E(a.filter(o=>i.has(o)).join(`
`))}else await E(await L(s.wordList))});})();
//# sourceMappingURL=index-4tfs6etm.js.map
