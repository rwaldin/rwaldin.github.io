(()=>{var D=/iPad|iPhone/.test(navigator.userAgent),T="hardwareConcurrency"in navigator?navigator.hardwareConcurrency:D?2:8,O=Array.from({length:T},n=>new Worker("./worker-3go7lkoy.js")),H=new Intl.NumberFormat,c=n=>H.format(n),E=async n=>fetch(n).then(r=>r.text()),{customWordFileElem:L,customWordListElem:$,elapsedTimeElem:C,fiveLetterWordCountElem:P,normalizedWordCountElem:_,workersWorkingElem:k,workItemsElem:q,solutionCountElem:j,solutionsElem:f,wordCountElem:B,solveFormElem:m,solveButtonElem:d,wordlListElem:N,wordsAlphaListElem:R}=window;for(let n=0;n<T;++n){let r=document.createElement("option");r.append(n+1),m.concurrency.append(r)}m.concurrency.value=T;L.addEventListener("change",n=>m.wordlist.value="custom");$.addEventListener("change",n=>{m.wordlist.value==="custom"&&!L.value&&L.click()});var y=n=>{let r=Date.now();d.innerText="Solving...",f.innerHTML="",j.innerText="0";let u=n.split(/\r?\n/).map(e=>e.trim().toLowerCase());B.innerText=c(u.length);let v=u.filter(e=>/^[a-z]{5}$/.test(e));P.innerText=c(v.length);let s=new Map;for(let e of v){let t=[...e].sort().join("");if(!t.match(/(.)\1/)){let o=s.get(t);o?s.set(t,[o,e].join("/")):s.set(t,e)}}_.innerText=c(s.size);let h=[...s.keys()].reduce((e,t)=>(e[t]=t.split("").map(o=>`letter${o}`),e),{}),p=new Set,b=[],S="a".charCodeAt(0),z="z".charCodeAt(0),l=[];for(let e=S;e<=z;++e){let t=String.fromCharCode(e),o=Object.fromEntries(Object.entries(h).filter(([i])=>!i.includes(t)));l.push({options:o,givenOptions:[]})}l.sort((e,t)=>Math.random()-.5);let F=e=>{let t=e.sort().join(",");p.has(t)||(p.add(t),j.innerText=c(p.size),b.push(t.split(",").map(o=>s.get(o)).sort().join(", ")))},A=setInterval(e=>requestAnimationFrame(t=>{for(let i of b.slice(f.children.length)){let a=document.createElement("li");a.innerText=i,f.append(a)}let o=c((Date.now()-r)/1e3);C.innerText=`${o} seconds`,f.scrollTop=f.scrollHeight}),60),w=0,g=0,I=m.concurrency.value;return new Promise((e,t)=>{for(let[o,i]of O.entries()){if(o>=I)break;k.value=o+1;let a=x=>{switch(x.data.type){case"solution":{F(x.data.solution);break}case"completed":{if(++g<l.length)w<l.length?i.postMessage({type:"solve",...l[w++]}):(k.value-=1,i.removeEventListener("message",a));else if(g===l.length){let M=(Date.now()-r)/1e3;i.removeEventListener("message",a),k.value-=1,C.innerText=`${c(M)} seconds`,d.disabled=!1,d.innerHTML="Solve",clearInterval(A),e()}q.value=l.length-g;break}}};w<l.length&&(i.addEventListener("message",a),i.postMessage({type:"solve",...l[w++]}))}})};d.addEventListener("click",async n=>{n.preventDefault(),d.disabled=!0,d.innerText="Loading...";let r=Object.fromEntries([...new FormData(m)]);if(r.wordlist==="custom"){var u=new FileReader;u.onload=v=>y(event.target.result),u.readAsText(r.customWordFile)}else r.wordlist==="intersection"?E(N.value).then(v=>{let s=v.split(/\r?\n/);E(R.value).then(W=>{let h=new Set(W.split(/\r?\n/));console.log(s,h),y(s.filter(p=>h.has(p)).join(`
`))})}):E(r.wordlist).then(y)});})();
//# sourceMappingURL=index-ecmramvm.js.map
